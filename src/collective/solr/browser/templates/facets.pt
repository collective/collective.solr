<div id="portal-searchfacets"
     class="dropdown-menu dropdown-menu-md-end"
     tal:define="facets view/facets; selected view/selected"
     tal:condition="python: facets or selected"
     i18n:domain="plone">

  <style type="text/css">
   .selected-facets {
     display: grid;
     grid-template-columns: auto auto auto auto;
   }
   .selectable-facet {
     display: grid;
     grid-template-columns: auto auto;
     grid-auto-flow: column;
   }
   .selectable-facet .count {
     text-align: right;
   }
  </style>

  <div i18n:domain="solr"
       class="d-flex text-nowrap my-3 selected-facets-wrapper"
       tal:condition="selected"
  >
    <div class="mx-3">
      <span class="fw-bold" i18n:translate="">Active filters</span>
      <div class="selected-facets">
        <tal:facet tal:repeat="item selected">
          <div i18n:translate="" class="title">${item/title}</div>
          <div class="mx-2">&raquo;</div>
          <div class="value" title="${item/title}"
               i18n:attributes="title">${item/value}</div>
            <div class=mx-3 remove>
              <a tal:attributes="href string:${request/ACTUAL_URL}?${item/query}"
                 title="Remove this search limit..." i18n:attributes="title"
                 i18n:domain="solr">
                &otimes;
              </a>
            </div>
        </tal:facet>
      </div>
    </div>
  </div>

  <div class="d-flex text-nowrap selectable-facets-wrapper">
    <div tal:repeat="facet facets" i18n:domain="solr"
         class="mx-3">
      <span class="fw-bold" tal:content="facet/title" i18n:translate="" />
      <div class="facet-options">
      <div tal:repeat="item facet/counts" class="selectable-facet text-nowrap">
        <div>
          <a href="#" tal:content="item/title"
           tal:attributes="href string:${request/ACTUAL_URL}?${item/query}" />
        </div>
        <div class="count mx-3" tal:content="item/count" />
      </div>
      </div>
    </div>
  </div>

</div>
